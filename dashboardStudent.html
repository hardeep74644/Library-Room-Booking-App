<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - KPU Library</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body style="background: #f5f7fa;">
    <div class="dashboard">
        <!-- Header -->
        <div class="dashboard-header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1>üìö Student Dashboard</h1>
                    <p class="user-info">Welcome, <strong>Student Name</strong></p>
                </div>
                <button onclick="logout()"
                    style="padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer;">Logout</button>
            </div>
        </div>

        <!-- Booking Status Alert -->
        <div id="booking-alert" class="card"
            style="background: #fff3cd; border-left: 4px solid #ffc107; display: none;">
            <p style="margin: 0; color: #856404;">‚ö†Ô∏è You have an active booking today. You cannot make another booking
                within 24 hours.</p>
        </div>

        <!-- Book a Room Section -->
        <div class="card">
            <h2>üìÖ Book a Room</h2>

            <!-- Room Capacity Selection -->
            <div class="form-group">
                <label>Select Room Capacity</label>
                <div style="display: flex; gap: 15px;">
                    <button class="capacity-btn active" onclick="selectCapacity(2)" id="cap-2">
                        üë• 2 People
                    </button>
                    <button class="capacity-btn" onclick="selectCapacity(4)" id="cap-4">
                        üë•üë• 4 People
                    </button>
                </div>
            </div>

            <!-- Date Selection -->
            <div class="form-group">
                <label for="booking-date">Select Date</label>
                <input type="date" id="booking-date" class="form-control">
            </div>

            <!-- Time Slot Selection -->
            <div class="form-group">
                <label>Select Time Slot</label>
                <input type="time" id="start-time" class="form-control">
            </div>

            <!-- Duration Selection -->
            <div class="form-group">
                <label>Select Duration</label>
                <select id="duration" class="form-control">
                    <option value="30min">30 Minutes</option>
                    <option value="1hr">1 Hour</option>
                    <option value="1.5hr">1.5 Hours</option>
                    <option value="2hr">2 Hours</option>
                </select>
            </div>

            <!-- Search Room by Number -->
            <div class="form-group">
                <label for="room-search">Search Room by Number (Optional)</label>
                <input type="text" id="room-search" class="form-control" placeholder="e.g., R101">
            </div>

            <button onclick="searchAvailableRooms()" class="btn-primary">Search Available Rooms</button>
        </div>

        <!-- Available Rooms Section -->
        <div class="card" id="available-rooms-section" style="display: none;">
            <h2>üè¢ Available Rooms</h2>
            <div id="rooms-list">
                <!-- Rooms will be dynamically loaded here -->
            </div>
        </div>

        <!-- My Bookings Section -->
        <div class="card">
            <h2>üìã My Current Booking</h2>
            <div id="my-bookings">
                <table>
                    <thead>
                        <tr>
                            <th>Room Number</th>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Duration</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="bookings-table">
                        <tr>
                            <td colspan="6" style="text-align: center; color: #999;">No active bookings</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <style>
        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
        }

        .capacity-btn {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .capacity-btn:hover {
            border-color: #667eea;
        }

        .capacity-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
    </style>

    <script type="module" src="js/student-dashboard.js"></script>
</body>

</html>